@page "/categories"

<h3>Categorias</h3>
<div class="mb-3">
	<a class="btn btn-primary" href="/categories/create">Nueva Categoria</a>
</div>

<GenericList MyList="Categories!">
	<Body>
		<Pagination 
			CurrentPage="currentPage" 
			TotalPages="totalPages" 
			SelectedPage="SelectedPageAsync" />

		<div class="mb-2" style="display: flex; flex-wrap:wrap; align-items: center;">
			<input style="width: 400px;" type="text" class="form-control" id="titulo" placeholder="Buscar categoría..." @bind-value="Filter" />
			<button type="button" class="btn btn-outline-primary mx-1" @onclick="ApplyFilterAsync">Filtrar</button>
			<button type="button" class="btn btn-outline-danger" @onclick="CleanFilterAsync">Limpiar</button>
		</div>

		<table class="table table-striped">
			<thead>
				<tr>
					<th>Categoria</th>
					<th style="width:180px"></th>
				</tr>
			</thead>
			<tbody>
				@foreach (var Category in Categories!)
				{
					<tr>
						<td>@Category.Name</td>
						<td>
							<a href="/categories/edit/@Category.Id" class="btn btn-warning">Editar</a>
							<button @onclick=@(() => DeleteAsync(Category)) class="btn btn-danger">Borrar</button>
						</td>
					</tr>
				}
			</tbody>
		</table>
	</Body>
</GenericList>
